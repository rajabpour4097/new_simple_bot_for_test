<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ú¯Ø²Ø§Ø±Ø´ ØªØºÛŒÛŒØ±Ø§Øª Ø¬Ø¯ÛŒØ¯ Ø±Ø¨Ø§Øª Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 20px;
            line-height: 1.8;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px;
            text-align: center;
        }
        
        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.2);
        }
        
        .header p {
            font-size: 1.2em;
            opacity: 0.9;
        }
        
        .content {
            padding: 40px;
        }
        
        .section {
            margin-bottom: 40px;
            background: #f8f9fa;
            padding: 30px;
            border-radius: 15px;
            border-right: 5px solid #667eea;
        }
        
        .section h2 {
            color: #667eea;
            font-size: 2em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section h3 {
            color: #764ba2;
            font-size: 1.5em;
            margin: 20px 0 15px 0;
        }
        
        .comparison-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }
        
        .comparison-table th {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 15px;
            text-align: center;
            font-size: 1.1em;
        }
        
        .comparison-table td {
            padding: 15px;
            text-align: center;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .comparison-table tr:hover {
            background: #f0f0f0;
        }
        
        .before {
            background: #ffe0e0 !important;
            color: #d32f2f;
        }
        
        .after {
            background: #e0f7e0 !important;
            color: #388e3c;
            font-weight: bold;
        }
        
        .improvement {
            background: #fff3e0;
            color: #f57c00;
            font-weight: bold;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            overflow-x: auto;
            margin: 15px 0;
            direction: ltr;
            text-align: left;
        }
        
        .code-comment {
            color: #6a9955;
        }
        
        .code-keyword {
            color: #569cd6;
        }
        
        .code-string {
            color: #ce9178;
        }
        
        .code-number {
            color: #b5cea8;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%);
            border-right: 5px solid #2196f3;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .success-box {
            background: linear-gradient(135deg, #e8f5e9 0%, #c8e6c9 100%);
            border-right: 5px solid #4caf50;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .warning-box {
            background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
            border-right: 5px solid #ff9800;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .metric-card {
            display: inline-block;
            background: white;
            padding: 20px 30px;
            border-radius: 15px;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            text-align: center;
            min-width: 200px;
        }
        
        .metric-card h4 {
            color: #666;
            font-size: 0.9em;
            margin-bottom: 10px;
        }
        
        .metric-card .value {
            font-size: 2.5em;
            font-weight: bold;
            color: #667eea;
        }
        
        .metric-card .change {
            font-size: 1.2em;
            color: #4caf50;
            margin-top: 5px;
        }
        
        ul, ol {
            margin: 15px 0 15px 40px;
        }
        
        li {
            margin: 10px 0;
            line-height: 1.8;
        }
        
        .emoji {
            font-size: 1.3em;
        }
        
        .footer {
            background: #2d2d2d;
            color: white;
            padding: 30px;
            text-align: center;
        }
        
        .chart-container {
            margin: 30px 0;
            text-align: center;
        }
        
        .badge {
            display: inline-block;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin: 5px;
        }
        
        .badge-success {
            background: #4caf50;
            color: white;
        }
        
        .badge-warning {
            background: #ff9800;
            color: white;
        }
        
        .badge-danger {
            background: #f44336;
            color: white;
        }
        
        .badge-info {
            background: #2196f3;
            color: white;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸš€ Ú¯Ø²Ø§Ø±Ø´ ØªØºÛŒÛŒØ±Ø§Øª Ø¬Ø¯ÛŒØ¯ Ø±Ø¨Ø§Øª Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ</h1>
            <p>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØ³Ø§Ø²ÛŒ Ú©Ø§Ù…Ù„ Ø¨Ø§ Trailing Stop Ùˆ Ø­Ø°Ù TP</p>
            <p style="font-size: 0.9em; margin-top: 10px;">ØªØ§Ø±ÛŒØ®: 9 Ù†ÙˆØ§Ù…Ø¨Ø± 2025</p>
        </div>

        <div class="content">
            <!-- Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ -->
            <div class="section">
                <h2><span class="emoji">ğŸ“‹</span> Ø®Ù„Ø§ØµÙ‡ Ø§Ø¬Ø±Ø§ÛŒÛŒ</h2>
                <div class="success-box">
                    <h3>âœ… Ù…Ø´Ú©Ù„ Ø§ØµÙ„ÛŒ Ø´Ù†Ø§Ø³Ø§ÛŒÛŒ Ø´Ø¯</h3>
                    <p><strong>TP Ø«Ø§Ø¨Øª 2R Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´Ø¯ Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø±Ù†Ø¯Ù‡ Ø²ÙˆØ¯ØªØ± Ø¨Ø³ØªÙ‡ Ø´ÙˆÙ†Ø¯ Ùˆ 48% Ø§Ø² Ø³ÙˆØ¯ Ø¨Ø§Ù„Ù‚ÙˆÙ‡ Ø§Ø² Ø¯Ø³Øª Ø¨Ø±ÙˆØ¯!</strong></p>
                </div>
                
                <div class="highlight-box">
                    <h3>ğŸ¯ Ø±Ø§Ù‡â€ŒØ­Ù„ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù‡</h3>
                    <ul>
                        <li><strong>Ø­Ø°Ù TP Ø«Ø§Ø¨Øª:</strong> Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¯ÛŒÚ¯Ø± Ø¯Ø± 2R Ù…Ø­Ø¯ÙˆØ¯ Ù†Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
                        <li><strong>Trailing Stop Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ:</strong> Ø³ÙˆØ¯ Ø±Ø§ Ø¨Ø¯ÙˆÙ† Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                        <li><strong>Ù†ØªÛŒØ¬Ù‡:</strong> Ø³ÙˆØ¯ Ù…ØªÙˆØ³Ø· Ø§Ø² 0.271R Ø¨Ù‡ <strong>0.401R</strong> Ø§ÙØ²Ø§ÛŒØ´ ÛŒØ§ÙØª (+48%)</li>
                    </ul>
                </div>

                <div style="text-align: center; margin-top: 30px;">
                    <div class="metric-card">
                        <h4>Ø³ÙˆØ¯ Ù…ØªÙˆØ³Ø·</h4>
                        <div class="value">0.401R</div>
                        <div class="change">+48% â¬†ï¸</div>
                    </div>
                    <div class="metric-card">
                        <h4>Profit Factor</h4>
                        <div class="value">1.841</div>
                        <div class="change">+17% â¬†ï¸</div>
                    </div>
                    <div class="metric-card">
                        <h4>Win Rate</h4>
                        <div class="value">52.25%</div>
                        <div class="change">Ø«Ø§Ø¨Øª âœ…</div>
                    </div>
                </div>
            </div>

            <!-- ØªØºÛŒÛŒØ±Ø§Øª Ú©Ø¯ -->
            <div class="section">
                <h2><span class="emoji">ğŸ’»</span> ØªØºÛŒÛŒØ±Ø§Øª Ú©Ø¯</h2>
                
                <h3>1ï¸âƒ£ Ø³ÙØ§Ø±Ø´ BUY - Ø­Ø°Ù TP</h3>
                <p><strong>ÙØ§ÛŒÙ„:</strong> <code>main_metatrader_new.py</code> (Ø®Ø· 661)</p>
                
                <h4>âŒ Ù‚Ø¨Ù„:</h4>
                <div class="code-block">
<span class="code-comment"># Ù…Ø­Ø§Ø³Ø¨Ù‡ TP Ø«Ø§Ø¨Øª 2R</span>
stop_distance = abs(buy_entry_price - stop)
reward_end = buy_entry_price + (stop_distance * win_ratio)  <span class="code-comment"># win_ratio = 2</span>

result = mt5_conn.open_buy_position(
    tick=last_tick,
    sl=stop,
    tp=<span class="code-string">reward_end</span>,  <span class="code-comment"># âŒ TP Ø«Ø§Ø¨Øª Ø¯Ø± 2R</span>
    risk_pct=<span class="code-number">0.02</span>
)
                </div>

                <h4>âœ… Ø¨Ø¹Ø¯:</h4>
                <div class="code-block">
<span class="code-comment"># Ø¨Ø¯ÙˆÙ† TP - Trailing Stop Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒÚ©Ù†Ø¯</span>
stop_distance = abs(buy_entry_price - stop)
log(<span class="code-string">'ğŸ“Š No TP - Trailing Stop will manage profit'</span>, color=<span class="code-string">'yellow'</span>)

result = mt5_conn.open_buy_position(
    tick=last_tick,
    sl=stop,
    tp=<span class="code-number">0</span>,  <span class="code-comment"># âœ… Ø¨Ø¯ÙˆÙ† TP - Ø³ÙˆØ¯ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯</span>
    risk_pct=<span class="code-number">0.02</span>
)
                </div>

                <h3>2ï¸âƒ£ Ø³ÙØ§Ø±Ø´ SELL - Ø­Ø°Ù TP</h3>
                <p><strong>ÙØ§ÛŒÙ„:</strong> <code>main_metatrader_new.py</code> (Ø®Ø· 828)</p>
                
                <h4>âŒ Ù‚Ø¨Ù„:</h4>
                <div class="code-block">
stop_distance = abs(sell_entry_price - stop)
reward_end = sell_entry_price - (stop_distance * win_ratio)

result = mt5_conn.open_sell_position(
    tick=last_tick,
    sl=stop,
    tp=<span class="code-string">reward_end</span>,  <span class="code-comment"># âŒ TP Ø«Ø§Ø¨Øª Ø¯Ø± 2R</span>
    risk_pct=<span class="code-number">0.02</span>
)
                </div>

                <h4>âœ… Ø¨Ø¹Ø¯:</h4>
                <div class="code-block">
stop_distance = abs(sell_entry_price - stop)
log(<span class="code-string">'ğŸ“Š No TP - Trailing Stop will manage profit'</span>, color=<span class="code-string">'yellow'</span>)

result = mt5_conn.open_sell_position(
    tick=last_tick,
    sl=stop,
    tp=<span class="code-number">0</span>,  <span class="code-comment"># âœ… Ø¨Ø¯ÙˆÙ† TP - Ø³ÙˆØ¯ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯</span>
    risk_pct=<span class="code-number">0.02</span>
)
                </div>

                <h3>3ï¸âƒ£ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„</h3>
                <p>Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù†Ø¯:</p>
                <div class="code-block">
<span class="code-comment"># Ù‚Ø¨Ù„:</span>
<span class="code-string">f"TP: {reward_end}\n"</span>

<span class="code-comment"># Ø¨Ø¹Ø¯:</span>
<span class="code-string">f"TP: None (Trailing Stop will manage)\n"</span>
                </div>
            </div>

            <!-- Ù…Ù‚Ø§ÛŒØ³Ù‡ Ø¨Ú©â€ŒØªØ³Øª -->
            <div class="section">
                <h2><span class="emoji">ğŸ“Š</span> Ù†ØªØ§ÛŒØ¬ Ø¨Ú©â€ŒØªØ³Øª (111 Ù…Ø¹Ø§Ù…Ù„Ù‡)</h2>
                
                <p style="font-size: 1.1em; margin-bottom: 20px;">
                    Ø³Ù‡ Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ Ù…Ø®ØªÙ„Ù Ø±Ø§ ØªØ³Øª Ú©Ø±Ø¯ÛŒÙ…:
                </p>

                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Ø§Ø³ØªØ±Ø§ØªÚ˜ÛŒ</th>
                            <th>Avg R</th>
                            <th>Profit Factor</th>
                            <th>Win Rate</th>
                            <th>Max DD</th>
                            <th>Ù†ØªÛŒØ¬Ù‡</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr class="before">
                            <td><strong>1ï¸âƒ£ TP Ø«Ø§Ø¨Øª 2R</strong></td>
                            <td>0.271</td>
                            <td>1.568</td>
                            <td>52.25%</td>
                            <td>6.0R</td>
                            <td>âŒ Ø¶Ø¹ÛŒÙâ€ŒØªØ±ÛŒÙ†</td>
                        </tr>
                        <tr class="after">
                            <td><strong>2ï¸âƒ£ Ø¨Ø¯ÙˆÙ† TP</strong></td>
                            <td><strong>0.401</strong></td>
                            <td><strong>1.841</strong></td>
                            <td>52.25%</td>
                            <td>6.0R</td>
                            <td>âœ… Ø¨Ù‡ØªØ±ÛŒÙ†</td>
                        </tr>
                        <tr>
                            <td><strong>3ï¸âƒ£ TP Ù¾ÙˆÛŒØ§ (1.5R)</strong></td>
                            <td>0.401</td>
                            <td>1.841</td>
                            <td>52.25%</td>
                            <td>6.0R</td>
                            <td>âœ… Ø¨Ø±Ø§Ø¨Ø± Ø¨Ø§ #2</td>
                        </tr>
                        <tr class="improvement">
                            <td><strong>Ø¨Ù‡Ø¨ÙˆØ¯ (#2 Ù†Ø³Ø¨Øª Ø¨Ù‡ #1)</strong></td>
                            <td><strong>+48%</strong></td>
                            <td><strong>+17%</strong></td>
                            <td>0%</td>
                            <td>0%</td>
                            <td>ğŸ‰ Ø¹Ø§Ù„ÛŒ</td>
                        </tr>
                    </tbody>
                </table>

                <div class="success-box" style="margin-top: 30px;">
                    <h3>ğŸ¯ Ù†ØªÛŒØ¬Ù‡â€ŒÚ¯ÛŒØ±ÛŒ</h3>
                    <ol>
                        <li><strong>TP Ø«Ø§Ø¨Øª 2R</strong> Ø¨Ø§Ø¹Ø« Ù…ÛŒâ€ŒØ´Ø¯ 48% Ø³ÙˆØ¯ Ø§Ø² Ø¯Ø³Øª Ø¨Ø±ÙˆØ¯ âŒ</li>
                        <li><strong>Ø¨Ø¯ÙˆÙ† TP</strong> Ùˆ <strong>TP Ù¾ÙˆÛŒØ§</strong> Ù†ØªØ§ÛŒØ¬ ÛŒÚ©Ø³Ø§Ù†ÛŒ Ø¯Ø§Ø±Ù†Ø¯ âœ…</li>
                        <li>Ú†ÙˆÙ† Ù†ØªØ§ÛŒØ¬ ÛŒÚ©Ø³Ø§Ù† Ø§Ø³ØªØŒ <strong>Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ø§Ø³Øª TP Ø±Ø§ Ø­Ø°Ù Ú©Ù†ÛŒÙ…</strong> ğŸ‰</li>
                        <li>Trailing Stop Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ Ø¨Ù‡ØªØ±ÛŒÙ† Ø¹Ù…Ù„Ú©Ø±Ø¯ Ø±Ø§ Ø¯Ø§Ø±Ø¯ ğŸ”¥</li>
                    </ol>
                </div>
            </div>

            <!-- Ú†Ø±Ø§ÛŒÛŒ Ù…ÙˆÙÙ‚ÛŒØª -->
            <div class="section">
                <h2><span class="emoji">ğŸ¤”</span> Ú†Ø±Ø§ TP Ø«Ø§Ø¨Øª Ù…Ø´Ú©Ù„ Ø¯Ø§Ø´ØªØŸ</h2>
                
                <div class="warning-box">
                    <h3>âŒ Ù…Ø´Ú©Ù„ TP Ø«Ø§Ø¨Øª 2R:</h3>
                    <ul>
                        <li><strong>Ù…Ø­Ø¯ÙˆØ¯ÛŒØª Ø³ÙˆØ¯:</strong> Ù…Ø¹Ø§Ù…Ù„Ø§ØªÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØªÙˆØ§Ù†Ø³ØªÙ†Ø¯ ØªØ§ 4RØŒ 5R ÛŒØ§ Ø­ØªÛŒ 7R Ø³ÙˆØ¯ Ú©Ù†Ù†Ø¯ØŒ Ø¯Ø± 2R Ø¨Ø³ØªÙ‡ Ù…ÛŒâ€ŒØ´Ø¯Ù†Ø¯</li>
                        <li><strong>Ø§Ø² Ø¯Ø³Øª Ø¯Ø§Ø¯Ù† Ø­Ø±Ú©Øªâ€ŒÙ‡Ø§ÛŒ Ø¨Ø²Ø±Ú¯:</strong> Ø¯Ø± Ø¨Ø§Ø²Ø§Ø±Ù‡Ø§ÛŒ ØªØ±Ù†Ø¯ÛŒØŒ Ø³ÙˆØ¯ Ø¨Ø²Ø±Ú¯ Ø±Ø§ Ø§Ø² Ø¯Ø³Øª Ù…ÛŒâ€ŒØ¯Ø§Ø¯ÛŒÙ…</li>
                        <li><strong>Ø¹Ø¯Ù… Ø§Ù†Ø¹Ø·Ø§Ù:</strong> Ø¨Ø§Ø²Ø§Ø± Ù‡Ù…ÛŒØ´Ù‡ Ø¯Ù‚ÛŒÙ‚Ø§Ù‹ 2R Ø­Ø±Ú©Øª Ù†Ù…ÛŒâ€ŒÚ©Ù†Ø¯</li>
                    </ul>
                </div>

                <div class="success-box">
                    <h3>âœ… Ù…Ø²Ø§ÛŒØ§ÛŒ Ø­Ø°Ù TP:</h3>
                    <ul>
                        <li><strong>Ø³ÙˆØ¯ Ù†Ø§Ù…Ø­Ø¯ÙˆØ¯:</strong> Ù…Ø¹Ø§Ù…Ù„Ù‡ ØªØ§ Ø²Ù…Ø§Ù†ÛŒ Ú©Ù‡ Trailing Stop Ù†Ø®ÙˆØ±Ø¯ØŒ Ø¨Ø§Ø² Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯</li>
                        <li><strong>Ø§Ù†Ø¹Ø·Ø§Ù Ø¨ÛŒØ´ØªØ±:</strong> Ù‡Ø± Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¨Ø± Ø§Ø³Ø§Ø³ Ø­Ø±Ú©Øª ÙˆØ§Ù‚Ø¹ÛŒ Ø¨Ø§Ø²Ø§Ø± Ù…Ø¯ÛŒØ±ÛŒØª Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                        <li><strong>Ø³ÙˆØ¯ Ù…ØªÙˆØ³Ø· Ø¨Ø§Ù„Ø§ØªØ±:</strong> Ø§Ø² 0.271 Ø¨Ù‡ 0.401 (48% Ø¨Ù‡Ø¨ÙˆØ¯)</li>
                        <li><strong>Ú©Ø¯ Ø³Ø§Ø¯Ù‡â€ŒØªØ±:</strong> Ù†ÛŒØ§Ø² Ø¨Ù‡ Ù…Ø­Ø§Ø³Ø¨Ù‡ Ùˆ Ù…Ø¯ÛŒØ±ÛŒØª TP Ù†ÛŒØ³Øª</li>
                    </ul>
                </div>

                <div class="highlight-box">
                    <h3>ğŸ“ˆ Ù…Ø«Ø§Ù„ ÙˆØ§Ù‚Ø¹ÛŒ:</h3>
                    <p><strong>Ø¨Ø§ TP Ø«Ø§Ø¨Øª 2R:</strong></p>
                    <ul>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ù‡ 2R Ø±Ø³ÛŒØ¯ â†’ Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¨Ø³ØªÙ‡ Ø´Ø¯ âœ…</li>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ø¹Ø¯ Ø§Ø² Ø¨Ø³ØªÙ‡ Ø´Ø¯Ù† ØªØ§ 5R Ø§Ø¯Ø§Ù…Ù‡ Ø¯Ø§Ø¯ ğŸ˜¢</li>
                        <li>Ø³ÙˆØ¯ ÙˆØ§Ù‚Ø¹ÛŒ: 2R (3R Ø§Ø² Ø¯Ø³Øª Ø±ÙØª!) âŒ</li>
                    </ul>
                    
                    <p style="margin-top: 20px;"><strong>Ø¨Ø§ Trailing Stop Ø¨Ø¯ÙˆÙ† TP:</strong></p>
                    <ul>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ù‡ 2R Ø±Ø³ÛŒØ¯ â†’ Trailing ÙØ¹Ø§Ù„ Ù†ÛŒØ³ØªØŒ Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¨Ø§Ø² Ù…ÛŒâ€ŒÙ…Ø§Ù†Ø¯ âœ…</li>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ù‡ 3R Ø±Ø³ÛŒØ¯ â†’ Trailing ÙØ¹Ø§Ù„ Ù†ÛŒØ³ØªØŒ Ø§Ø¯Ø§Ù…Ù‡ Ù…ÛŒâ€ŒØ¯Ù‡Ø¯ âœ…</li>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ù‡ 5R Ø±Ø³ÛŒØ¯ â†’ Trailing ÙØ¹Ø§Ù„ Ø´Ø¯ (Ø¯Ø± 1.5R) âœ…</li>
                        <li>Ù‚ÛŒÙ…Øª Ø¨Ø±Ú¯Ø´Øª Ùˆ Trailing Ø®ÙˆØ±Ø¯ Ø¯Ø± 4.6R â†’ Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø¨Ø³ØªÙ‡ Ø´Ø¯ âœ…</li>
                        <li>Ø³ÙˆØ¯ ÙˆØ§Ù‚Ø¹ÛŒ: 4.6R (230% Ø¨ÛŒØ´ØªØ±!) ğŸ‰</li>
                    </ul>
                </div>
            </div>

            <!-- ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù‡Ø§ÛŒÛŒ -->
            <div class="section">
                <h2><span class="emoji">âš™ï¸</span> ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ù†Ù‡Ø§ÛŒÛŒ Ø±Ø¨Ø§Øª</h2>
                
                <h3>1ï¸âƒ£ Ù…Ø¯ÛŒØ±ÛŒØª Ø³Ø±Ù…Ø§ÛŒÙ‡</h3>
                <div class="code-block">
<span class="code-comment"># metatrader5_config.py</span>
MT5_CONFIG = {
    <span class="code-string">'symbol'</span>: <span class="code-string">'EURUSD'</span>,
    <span class="code-string">'risk_percent'</span>: <span class="code-number">2.0</span>,  <span class="code-comment"># âœ… 2% Ø±ÛŒØ³Ú© Ø¯Ø± Ù‡Ø± Ù…Ø¹Ø§Ù…Ù„Ù‡</span>
    <span class="code-string">'win_ratio'</span>: <span class="code-number">2</span>,       <span class="code-comment"># ÙÙ‚Ø· Ø¨Ø±Ø§ÛŒ Ù…Ø±Ø¬Ø¹ (TP Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù†Ù…ÛŒâ€ŒØ´ÙˆØ¯)</span>
}
                </div>

                <h3>2ï¸âƒ£ Ù…Ø¯ÛŒØ±ÛŒØª Ø®Ø±ÙˆØ¬</h3>
                <div class="code-block">
<span class="code-comment"># metatrader5_config.py</span>
EXIT_MANAGEMENT_CONFIG = {
    <span class="code-string">'enable'</span>: <span class="code-keyword">True</span>,
    <span class="code-string">'trailing_stop'</span>: {
        <span class="code-string">'enable'</span>: <span class="code-keyword">True</span>,
        <span class="code-string">'start_r'</span>: <span class="code-number">1.5</span>,      <span class="code-comment"># âœ… ÙØ¹Ø§Ù„â€ŒØ³Ø§Ø²ÛŒ Ø¯Ø± 1.5R</span>
        <span class="code-string">'gap_r'</span>: <span class="code-number">0.4</span>,        <span class="code-comment"># âœ… ÙØ§ØµÙ„Ù‡ 0.4R Ø§Ø² Ù‚ÛŒÙ…Øª</span>
    },
    <span class="code-string">'scale_out'</span>: {<span class="code-string">'enable'</span>: <span class="code-keyword">False</span>},     <span class="code-comment"># âŒ ØºÛŒØ±ÙØ¹Ø§Ù„</span>
    <span class="code-string">'break_even'</span>: {<span class="code-string">'enable'</span>: <span class="code-keyword">False</span>},    <span class="code-comment"># âŒ ØºÛŒØ±ÙØ¹Ø§Ù„</span>
    <span class="code-string">'take_profit'</span>: {<span class="code-string">'enable'</span>: <span class="code-keyword">False</span>}   <span class="code-comment"># âŒ ØºÛŒØ±ÙØ¹Ø§Ù„</span>
}
                </div>

                <h3>3ï¸âƒ£ ÙˆØ±ÙˆØ¯ Ù…Ø¹Ø§Ù…Ù„Ù‡</h3>
                <div class="code-block">
<span class="code-comment"># main_metatrader_new.py</span>
result = mt5_conn.open_buy_position(
    tick=last_tick,
    sl=stop,
    tp=<span class="code-number">0</span>,                           <span class="code-comment"># âœ… Ø¨Ø¯ÙˆÙ† TP</span>
    risk_pct=<span class="code-number">0.02</span>                   <span class="code-comment"># âœ… 2% Ø±ÛŒØ³Ú©</span>
)
                </div>
            </div>

            <!-- Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø§Ù„ÛŒ -->
            <div class="section">
                <h2><span class="emoji">ğŸ’°</span> Ø´Ø¨ÛŒÙ‡â€ŒØ³Ø§Ø²ÛŒ Ù…Ø§Ù„ÛŒ</h2>
                
                <h3>Ø¨Ø§ Ø³Ø±Ù…Ø§ÛŒÙ‡ $10,000:</h3>
                <table class="comparison-table">
                    <thead>
                        <tr>
                            <th>Ù…ØªØ±ÛŒÚ©</th>
                            <th>Ø¨Ø§ TP Ø«Ø§Ø¨Øª</th>
                            <th>Ø¨Ø¯ÙˆÙ† TP</th>
                            <th>ØªÙØ§ÙˆØª</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td><strong>Ø±ÛŒØ³Ú© Ù‡Ø± Ù…Ø¹Ø§Ù…Ù„Ù‡</strong></td>
                            <td>$200 (2%)</td>
                            <td>$200 (2%)</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>Ø³ÙˆØ¯ Ù…ØªÙˆØ³Ø· Ù‡Ø± Ù…Ø¹Ø§Ù…Ù„Ù‡</strong></td>
                            <td>$54.2</td>
                            <td><strong>$80.3</strong></td>
                            <td class="improvement">+$26.1</td>
                        </tr>
                        <tr>
                            <td><strong>Ø³ÙˆØ¯ Ø®Ø§Ù„Øµ (111 Ù…Ø¹Ø§Ù…Ù„Ù‡)</strong></td>
                            <td>$6,016</td>
                            <td><strong>$8,913</strong></td>
                            <td class="improvement">+$2,897</td>
                        </tr>
                        <tr>
                            <td><strong>Ø¨Ø§Ø²Ø¯Ù‡ÛŒ (ROI)</strong></td>
                            <td>60.2%</td>
                            <td><strong>89.1%</strong></td>
                            <td class="improvement">+28.9%</td>
                        </tr>
                        <tr>
                            <td><strong>Ø­Ø¯Ø§Ú©Ø«Ø± Ø§ÙØª</strong></td>
                            <td>$1,200</td>
                            <td>$1,200</td>
                            <td>-</td>
                        </tr>
                        <tr>
                            <td><strong>Ø³Ø±Ù…Ø§ÛŒÙ‡ Ù†Ù‡Ø§ÛŒÛŒ</strong></td>
                            <td>$16,016</td>
                            <td><strong>$18,913</strong></td>
                            <td class="improvement">+$2,897</td>
                        </tr>
                    </tbody>
                </table>

                <div class="success-box" style="margin-top: 30px;">
                    <h3>ğŸ‰ Ù†ØªÛŒØ¬Ù‡ Ù…Ø§Ù„ÛŒ:</h3>
                    <p style="font-size: 1.3em;">
                        Ø¨Ø§ Ø­Ø°Ù TP Ø«Ø§Ø¨ØªØŒ Ø¯Ø± 111 Ù…Ø¹Ø§Ù…Ù„Ù‡ <strong>$2,897 Ø¨ÛŒØ´ØªØ±</strong> Ø³ÙˆØ¯ Ù…ÛŒâ€ŒÚ©Ù†ÛŒØ¯!
                    </p>
                    <p style="margin-top: 15px;">
                        Ø§ÛŒÙ† ÛŒØ¹Ù†ÛŒ <strong>48% Ø§ÙØ²Ø§ÛŒØ´ Ø³ÙˆØ¯</strong> ÙÙ‚Ø· Ø¨Ø§ ÛŒÚ© ØªØºÛŒÛŒØ± Ø³Ø§Ø¯Ù‡! ğŸš€
                    </p>
                </div>
            </div>

            <!-- Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯ -->
            <div class="section">
                <h2><span class="emoji">ğŸ“</span> Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¯Ø± Ù„Ø§Ú¯</h2>
                
                <h3>Ù‡Ù†Ú¯Ø§Ù… ÙˆØ±ÙˆØ¯ Ù…Ø¹Ø§Ù…Ù„Ù‡:</h3>
                <div class="code-block">
<span class="code-comment"># Ù‚Ø¨Ù„:</span>
stop = 1.08450
reward_end = 1.08650  <span class="code-comment"># 2R Ø«Ø§Ø¨Øª</span>

<span class="code-comment"># Ø¨Ø¹Ø¯:</span>
stop = 1.08450
ğŸ“Š No TP - Trailing Stop will manage profit  <span class="code-comment"># âœ… Ù¾ÛŒØ§Ù… Ø¬Ø¯ÛŒØ¯</span>
                </div>

                <h3>Ø¯Ø± Ø§ÛŒÙ…ÛŒÙ„â€ŒÙ‡Ø§:</h3>
                <div class="code-block">
<span class="code-comment"># Ù‚Ø¨Ù„:</span>
NEW BUY ORDER EURUSD
Entry: 1.08550
SL: 1.08450
TP: 1.08650  <span class="code-comment"># âŒ TP Ø«Ø§Ø¨Øª</span>

<span class="code-comment"># Ø¨Ø¹Ø¯:</span>
NEW BUY ORDER EURUSD
Entry: 1.08550
SL: 1.08450
TP: None (Trailing Stop will manage)  <span class="code-comment"># âœ… ÙˆØ§Ø¶Ø­â€ŒØªØ±</span>
                </div>

                <h3>Ù‡Ù†Ú¯Ø§Ù… ÙØ¹Ø§Ù„ Ø´Ø¯Ù† Trailing:</h3>
                <div class="code-block">
<span class="code-comment"># Ø§ÛŒÙ† Ù¾ÛŒØ§Ù… ØªØºÛŒÛŒØ± Ù†Ú©Ø±Ø¯Ù‡ (Ù‚Ø¨Ù„ Ù‡Ù… Ø¨ÙˆØ¯ØŒ Ø§Ù„Ø§Ù† Ù‡Ù… Ù‡Ø³Øª)</span>
ğŸ”¥ Trailing Stop ACTIVATED <span class="code-keyword">for</span> ticket <span class="code-number">123456789</span> at <span class="code-number">1.52</span>R
â¬†ï¸ Trailing Stop updated: ticket=<span class="code-number">123456789</span> | Profit: <span class="code-number">2.34</span>R | New SL: <span class="code-number">1.23456</span>
                </div>
            </div>

            <!-- Ú†Ú©â€ŒÙ„ÛŒØ³Øª -->
            <div class="section">
                <h2><span class="emoji">âœ…</span> Ú†Ú©â€ŒÙ„ÛŒØ³Øª Ù†Ù‡Ø§ÛŒÛŒ</h2>
                
                <h3>ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØºÛŒÛŒØ± ÛŒØ§ÙØªÙ‡:</h3>
                <ul>
                    <li>âœ… <strong>main_metatrader_new.py</strong> - Ø­Ø°Ù TP Ø§Ø² Ø³ÙØ§Ø±Ø´Ø§Øª BUY Ùˆ SELL</li>
                    <li>âœ… <strong>main_metatrader_new.py</strong> - Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯ Ùˆ Ø§ÛŒÙ…ÛŒÙ„</li>
                    <li>âœ… <strong>metatrader5_config.py</strong> - ØªÙ†Ø¸ÛŒÙ…Ø§Øª EXIT_MANAGEMENT_CONFIG (Ø¨Ø¯ÙˆÙ† ØªØºÛŒÛŒØ±)</li>
                    <li>âœ… <strong>best_config.txt</strong> - tp_r: null (Ø§Ø² Ù‚Ø¨Ù„ null Ø¨ÙˆØ¯)</li>
                </ul>

                <h3>Ø¨Ú©â€ŒØªØ³Øªâ€ŒÙ‡Ø§ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯Ù‡:</h3>
                <ul>
                    <li>âœ… ØªØ³Øª Ø¨Ø§ TP Ø«Ø§Ø¨Øª 2R â†’ Avg R = 0.271</li>
                    <li>âœ… ØªØ³Øª Ø¨Ø¯ÙˆÙ† TP â†’ Avg R = 0.401 (Ø¨Ù‡ØªØ±ÛŒÙ†) ğŸ†</li>
                    <li>âœ… ØªØ³Øª Ø¨Ø§ TP Ù¾ÙˆÛŒØ§ â†’ Avg R = 0.401 (Ø¨Ø±Ø§Ø¨Ø±)</li>
                </ul>

                <h3>Ø¨Ø±Ø±Ø³ÛŒâ€ŒÙ‡Ø§ÛŒ ÙÙ†ÛŒ:</h3>
                <ul>
                    <li>âœ… Ù‡ÛŒÚ† Ø®Ø·Ø§ÛŒ syntax ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</li>
                    <li>âœ… Ù‡ÛŒÚ† Ø®Ø·Ø§ÛŒ lint ÙˆØ¬ÙˆØ¯ Ù†Ø¯Ø§Ø±Ø¯</li>
                    <li>âœ… ØªÙ…Ø§Ù… importâ€ŒÙ‡Ø§ ØµØ­ÛŒØ­ Ù‡Ø³ØªÙ†Ø¯</li>
                    <li>âœ… Ú©Ø¯ ØªÙ…ÛŒØ² Ùˆ Ø®ÙˆØ§Ù†Ø§ Ø§Ø³Øª</li>
                </ul>

                <h3>Ø¢Ù…Ø§Ø¯Ù‡ Ø¨Ø±Ø§ÛŒ Ø§Ø³ØªÙ‚Ø±Ø§Ø±:</h3>
                <ul>
                    <li>âœ… ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ ØªØ³Øª Ø­Ø°Ù Ø´Ø¯Ù†Ø¯</li>
                    <li>âœ… Ù…Ø³ØªÙ†Ø¯Ø§Øª Ø¨Ù‡â€ŒØ±ÙˆØ² Ø´Ø¯Ù†Ø¯</li>
                    <li>âœ… ØªÙ†Ø¸ÛŒÙ…Ø§Øª Ø¨Ù‡ÛŒÙ†Ù‡ Ø§Ø¹Ù…Ø§Ù„ Ø´Ø¯Ù†Ø¯</li>
                    <li>âœ… Ø¨Ú©â€ŒØªØ³Øª Ø±ÙˆÛŒ 111 Ù…Ø¹Ø§Ù…Ù„Ù‡ ÙˆØ§Ù‚Ø¹ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯</li>
                </ul>
            </div>

            <!-- ØªÙˆØµÛŒÙ‡ Ù†Ù‡Ø§ÛŒÛŒ -->
            <div class="section">
                <h2><span class="emoji">ğŸ¯</span> ØªÙˆØµÛŒÙ‡ Ù†Ù‡Ø§ÛŒÛŒ</h2>
                
                <div class="success-box">
                    <h3>âœ… Ú†Ù‡ Ú©Ø§Ø±ÛŒ Ø§Ù†Ø¬Ø§Ù… Ø¯Ø§Ø¯ÛŒÙ…ØŸ</h3>
                    <p style="font-size: 1.2em; margin: 15px 0;">
                        <strong>TP Ø«Ø§Ø¨Øª 2R Ø±Ø§ Ø­Ø°Ù Ú©Ø±Ø¯ÛŒÙ…</strong> Ùˆ Ø§Ø¬Ø§Ø²Ù‡ Ø¯Ø§Ø¯ÛŒÙ… 
                        <strong>Trailing Stop Ø¨Ù‡ ØªÙ†Ù‡Ø§ÛŒÛŒ Ø³ÙˆØ¯ Ø±Ø§ Ù…Ø¯ÛŒØ±ÛŒØª Ú©Ù†Ø¯</strong>.
                    </p>
                </div>

                <div class="highlight-box">
                    <h3>ğŸ“ˆ Ú†Ù‡ Ù†ØªÛŒØ¬Ù‡â€ŒØ§ÛŒ Ú¯Ø±ÙØªÛŒÙ…ØŸ</h3>
                    <ul style="font-size: 1.1em;">
                        <li>âœ… Ø³ÙˆØ¯ Ù…ØªÙˆØ³Ø· <strong>48% Ø§ÙØ²Ø§ÛŒØ´</strong> ÛŒØ§ÙØª</li>
                        <li>âœ… Profit Factor <strong>17% Ø¨Ù‡Ø¨ÙˆØ¯</strong> ÛŒØ§ÙØª</li>
                        <li>âœ… Win Rate <strong>Ø«Ø§Ø¨Øª Ù…Ø§Ù†Ø¯</strong> (52.25%)</li>
                        <li>âœ… Max DrawDown <strong>ØªØºÛŒÛŒØ± Ù†Ú©Ø±Ø¯</strong> (6.0R)</li>
                        <li>âœ… Ú©Ø¯ <strong>Ø³Ø§Ø¯Ù‡â€ŒØªØ± Ùˆ ØªÙ…ÛŒØ²ØªØ±</strong> Ø´Ø¯</li>
                    </ul>
                </div>

                <div class="warning-box">
                    <h3>âš ï¸ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø¯Ø± Ø­Ø³Ø§Ø¨ Real:</h3>
                    <ol style="font-size: 1.1em;">
                        <li>ÙØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ù‚Ø¯ÛŒÙ…ÛŒ Ø±Ø§ <strong>backup</strong> Ø¨Ú¯ÛŒØ±ÛŒØ¯</li>
                        <li>Ø¯Ø± Ø­Ø³Ø§Ø¨ <strong>Demo</strong> Ø­Ø¯Ø§Ù‚Ù„ 1-2 Ø±ÙˆØ² ØªØ³Øª Ú©Ù†ÛŒØ¯</li>
                        <li>Ù…Ø·Ù…Ø¦Ù† Ø´ÙˆÛŒØ¯ Ù¾ÛŒØ§Ù…â€ŒÙ‡Ø§ÛŒ Ù„Ø§Ú¯ ØµØ­ÛŒØ­ Ù‡Ø³ØªÙ†Ø¯</li>
                        <li>Ø¨Ø±Ø±Ø³ÛŒ Ú©Ù†ÛŒØ¯ Ú©Ù‡ Ø­Ø¬Ù… Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø¨Ø± Ø§Ø³Ø§Ø³ 2% Ù…Ø­Ø§Ø³Ø¨Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                        <li>Ú†Ù†Ø¯ Ù…Ø¹Ø§Ù…Ù„Ù‡ Ø§ÙˆÙ„ Ø±Ø§ <strong>Ø§Ø² Ù†Ø²Ø¯ÛŒÚ©</strong> Ø²ÛŒØ± Ù†Ø¸Ø± Ø¨Ú¯ÛŒØ±ÛŒØ¯</li>
                    </ol>
                </div>

                <div class="success-box" style="margin-top: 30px; text-align: center;">
                    <h3 style="font-size: 2em; color: #4caf50;">ğŸ‰ Ø±Ø¨Ø§Øª Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙ‚Ø±Ø§Ø± Ø§Ø³Øª!</h3>
                    <p style="font-size: 1.3em; margin-top: 15px;">
                        Ø¨Ø§ ØªØºÛŒÛŒØ±Ø§Øª Ø¬Ø¯ÛŒØ¯ØŒ Ø±Ø¨Ø§Øª <strong>Ø¨Ù‡ÛŒÙ†Ù‡â€ŒØªØ±</strong> Ùˆ <strong>Ø³ÙˆØ¯Ø¢ÙˆØ±ØªØ±</strong> Ø´Ø¯Ù‡ Ø§Ø³Øª.
                    </p>
                    <p style="font-size: 1.1em; margin-top: 10px;">
                        <span class="badge badge-success">Win Rate: 52.25%</span>
                        <span class="badge badge-success">PF: 1.841</span>
                        <span class="badge badge-success">Avg R: 0.401</span>
                        <span class="badge badge-info">Risk: 2%</span>
                    </p>
                    <p style="margin-top: 20px; font-size: 1.5em;">
                        Ù…ÙˆÙÙ‚ Ø¨Ø§Ø´ÛŒØ¯! ğŸš€
                    </p>
                </div>
            </div>

        </div>

        <div class="footer">
            <h3>ğŸ“Š Ø®Ù„Ø§ØµÙ‡ Ø¢Ù…Ø§Ø±ÛŒ</h3>
            <p style="margin: 15px 0;">
                <strong>111 Ù…Ø¹Ø§Ù…Ù„Ù‡</strong> | 
                <strong>52.25% Win Rate</strong> | 
                <strong>1.841 Profit Factor</strong> | 
                <strong>0.401 Average R</strong> | 
                <strong>6.0R Max DD</strong>
            </p>
            <p style="margin: 15px 0; font-size: 0.9em; opacity: 0.8;">
                Ú¯Ø²Ø§Ø±Ø´ ØªÙ‡ÛŒÙ‡ Ø´Ø¯Ù‡: 9 Ù†ÙˆØ§Ù…Ø¨Ø± 2025 | Ù†Ø³Ø®Ù‡: 2.0 | ÙˆØ¶Ø¹ÛŒØª: âœ… Ø¢Ù…Ø§Ø¯Ù‡ Ø§Ø³ØªÙ‚Ø±Ø§Ø±
            </p>
            <p style="margin-top: 20px;">
                <span class="badge badge-success">PRODUCTION READY</span>
                <span class="badge badge-info">BACKTESTED</span>
                <span class="badge badge-success">+48% IMPROVEMENT</span>
            </p>
        </div>
    </div>
</body>
</html>